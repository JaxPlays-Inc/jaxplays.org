{{ define "header" }}{{ partial "page-header.html" . }}{{ end }}
{{ define "main" }}
<script src='/fullcalendar/index.global.min.js'></script>
    <script>

      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          height: 'auto',
          initialView: 'listWeek',
          navLinks: true, // can click day/week names to navigate views
          events: '/calendar.json', // link to the generated JSON file
          slotMaxTime: '22:00:00',
          slotMinTime: '11:00:00',
          nowIndicator: true,
          expandRows: true,
          headerToolbar: {
            left: 'prev,next today',
            center: 'title',
            right: 'multiMonthYear,dayGridMonth,timeGridWeek,listWeek' // user can switch between them
          }
        });
        calendar.render();
      });

    </script>
  <div class="flex-l mt0 mw9 center">
    <article class="center cf pv4 ph3 ph4-ns mw9 w-100">
      <header>
        <h1 class="f3 f1-l f1-m mt0">
          {{ .Title }}
        </h1>
      </header>
      <div class="nested-copy-line-height lh-copy f4 nested-links {{ $.Param "text_color" | default "mid-gray" }}">
        {{ .Content }}
        <div id='calendar'></div>
      </div>
    </article>
  </div>
{{ end }}
